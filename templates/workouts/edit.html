<html>
  <head>
	<title>B.E.A.S.T. Workout Creation</title>
	<link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/themes/smoothness/jquery-ui.css" type="text/css" media="all" />
	<link rel="stylesheet" href="http://twitter.github.com/bootstrap/1.4.0/bootstrap.min.css">
	<style type="text/css">
	  /* Override some defaults */
      html, body {
        background-color: #eee;
      }
      .container > footer p {
        text-align: center; /* center align it with the container */
      }
	  .container {
	    width: 91%;
	  }
      /* The white background content wrapper */
      .content {
	    padding: 5px;
        background-color: #fff;

        -webkit-border-radius: 6px 6px 6px 6px;
           -moz-border-radius: 6px 6px 6px 6px;
                border-radius: 6px 6px 6px 6px;
        -webkit-box-shadow: 0 1px 2px rgba(0,0,0,.15);
           -moz-box-shadow: 0 1px 2px rgba(0,0,0,.15);
                box-shadow: 0 1px 2px rgba(0,0,0,.15);
      }

      .topbar .btn {
        border: 0;
      }

	  .topbarText {
        padding: 10px 10px 11px;
	  }
	  body {
        padding-top: 60px;
	  }

	  #explain {
 	    background: #f5f5f5;
	    width: 300px;
	    margin: 0px 25px;
	    padding: 0 15px;
	  }
	</style>
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.3/jquery.min.js"></script>
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/jquery-ui.min.js"></script>
	<script type="text/javascript">
	  $(function() {
	    $(".datePicker").datepicker({
          onSelect: function(dateText, inst) {
          /* Just hardcode this for now.  Could be more elegant. */
          $("#id_startTime").focus();
        },
      });
      $("#id_location").autocomplete({
        source: [{{locationStr|safe}}],
        minLength: 0,
      });
	  $("input, textarea").bind("focus", function(event, ui) {
      var txt = "";
    if (this.id === "id_title") {
      txt = "<p>Give a short title to the workout.</p>";
    } else if (this.id === "id_startDate") {
      txt = "<p>Set the date for this workout.</p>";
    } else if (this.id === "id_startTime") {
      txt = "<p>Set the time when the workout will start (the 'go' time.)</p>";
      txt += "<p>Valid time formats are:</p>";
      txt += "<ul>";
      txt += "<li>7:00 am</li>";
      txt += "<li>9:30 pm</li>";
      txt += "<li>7:00am</li>";
      txt += "<li>9:30pm</li>";
      txt += "<li>7am</li>";
      txt += "<li>9pm</li>";
      txt += "<li>7:00</li>";
      txt += "<li>21:30</li>";
      txt += "</ul>"
    } else if (this.id === "id_location") {
      txt = "<p>Set the location for the workout.  You can choose from one of the standard locations or specify one of your own.</p>";
      txt += "<p>The standard location choices are:</p>";
      txt += "<ul>";
      {% for loc in locations %}
        txt += "<b><li>{{loc.name}}</li></b>{{loc.description}}";
      {% endfor %}
      $(this).autocomplete("search");
    } else if (this.id === "id_warmupTime") {
      txt = "<p>Set the time when the warmup for the workout will start.</p>";
      txt += '<p style="color: #c00;">This is optional.</p>';
      txt += "<p>Valid time formats are:</p>";
      txt += "<ul>";
      txt += "<li>7:00 am</li>";
      txt += "<li>9:30 pm</li>";
      txt += "<li>7:00am</li>";
      txt += "<li>9:30pm</li>";
      txt += "<li>7am</li>";
      txt += "<li>9pm</li>";
      txt += "<li>7:00</li>";
      txt += "<li>21:30</li>";
      txt += "</ul>"
    } else if (this.id === "id_description") {
      txt = "<p>Set any details related to this workout, such as pacing, route, etc.</p>";
    }
    $("#explain").html(txt);
  });
  $("input[type='text']:first").focus();
});
	</script>
  </head>
  <body>
	{% include "workouts/topbar.html" with active="edit" %}
	<div class="container">
	  <div class="content">
		<div class="row">
		  <div class="span8">
			<form
			   {% if action == "update" %}
			   action="/workout/{{w_id}}/update/"
			   {% else %}
			   action="/workout/create/"
			   {% endif %}
			   method="post">
			  {% csrf_token %}
			  <table>
				{{ form.as_p }}
			  </table>
			  <input class="btn" type="submit" value="Submit" />
			</form>
		  </div>
		</div>
	  </div>
	</div>
  </body>
</html>
